<div class="p-2">
    <p-toolbar>
        <div class="p-toolbar-group-start text-3xl">
            Dashboard
        </div>
        <div class="p-toolbar-group-end">
            <p-button label="New Sally" styleClass="p-button-sm" (click)="add_sally = true"></p-button>
        </div>
    </p-toolbar>
</div>

<div class="grid grid-nogutter p-1" *ngIf="data.length > 0">
    <div class="col-12 md:col-6 lg:col-3" *ngFor="let item of data">
        <div class="flex flex-column border-round text-center shadow-2 hover:shadow-4 transition-duration-200 py-3 m-2"
            [routerLink]="item.slug">
            <label class="text-xl font-semibold pb-2">{{item.name}}</label>
            <label>Members: {{item.members.length}}</label>
            <label>Total: {{getTotal(item.expenses)}}</label>
            <label>Per Head: {{item.total//item.members.length}}</label>
        </div>
    </div>
</div>

<!-- Add Sally Dialog -->
<p-dialog header="New Sally" [(visible)]="add_sally" [style]="{ width: '50vw' }">
    <div class="h-100 d-flex flex-column pt-4" [formGroup]="sally_form">
        <span class="p-float-label mb-4">
            <input pInputText formControlName="slug" [value]="slug()" />
            <label>Slug</label>
        </span>
        <span class="p-float-label mb-4">
            <input pInputText formControlName="name" />
            <label>Name</label>
        </span>
        <span class="p-float-label mb-4">
            <p-chips class="p-chips-sm" formControlName="members"></p-chips>
            <label>Members</label>
        </span>
        <p-button class="mx-auto" label="Create" styleClass="p-button-sm" (click)="create_sally()"></p-button>
    </div>
</p-dialog>