<div class="container mx-auto p-4">

    <div class="flex flex-col mb-4">
        <div class="text-2xl">Create a New Group</div>
        <div class="text-gray-500">Split expenses with friends and family made easy.</div>
    </div>

    <div class="flex flex-col rounded-lg bg-surface-0 border border-gray-300 py-3 px-4" [formGroup]="groupForm">

        <div class="flex flex-col gap-2">
            <label>Group Name</label>
            <input pInputText formControlName="name" autocomplete="off" placeholder="Italy Vacation '24" />
        </div>

        <div class="flex flex-col gap-2 mt-3">
            <label>Add Members (Optional)</label>
            <p-autocomplete formControlName="members" inputId="multiple-ac-2" multiple fluid [typeahead]="false" placeholder="Enter names" />
        </div>

        <div class="grid gap-4 grid-cols-[repeat(auto-fill,minmax(140px,1fr))] mt-3">
            @for (thumbnail of thumbnails; track $index) {
            <div [class]="groupForm.controls.thumbnail.value==thumbnail ? 'border-primary' : 'border-gray-300'"
                class="h-30 bg-center bg-cover rounded-lg border-2"
                [style]="'background-image: url(assets/thumbnails/'+thumbnail+')'"
                (click)="groupForm.patchValue({thumbnail: thumbnail})"></div>
            }
        </div>

        <div class="w-full border-t border-gray-300 mt-3"></div>

        <div class="flex justify-end mt-3">
            <p-button label="Cancel" variant="text" class="mr-2" routerLink="/dashboard" />
            <p-button label="Create" (click)="createGroup()" [disabled]="groupForm.invalid" />
        </div>

    </div>

</div>